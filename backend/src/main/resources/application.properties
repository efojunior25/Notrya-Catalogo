spring.application.name=notrya-catalogo

# === CONFIGURACAO MYSQL COM VARIAVEIS DE AMBIENTE ===
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:notrya_catalogo}?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.username=${DB_USERNAME:xunimadmin}
spring.datasource.password=${DB_PASSWORD:xunim@0787}

# === JPA CONFIG ===
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=${SHOW_SQL:true}
spring.jpa.defer-datasource-initialization=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# === SCRIPT CONFIG ===
spring.sql.init.mode=always

# === SERVER CONFIG ===
server.port=${SERVER_PORT:8080}
server.servlet.context-path=/api/v1
server.error.include-message=always

# === JWT CONFIG COM VARIAVEIS DE AMBIENTE ===
jwt.secret=${JWT_SECRET:mySuperSecretKeyForJWTTokenGenerationCatalogoNotrya123456789CHANGE_THIS_IN_PRODUCTION}
jwt.expiration=${JWT_EXPIRATION:86400000}

# === CONFIGURACAO DE UPLOADS - NOVO ===
upload.dir=${UPLOAD_DIR:../uploads/}
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE:5MB}
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE:5MB}
spring.servlet.multipart.file-size-threshold=2KB

# === STATIC RESOURCES ===
spring.web.resources.static-locations=file:${UPLOAD_DIR:../uploads/}
spring.web.resources.cache.period=3600

# === LOGGING CONFIGURAVEL ===
logging.level.org.hibernate.SQL=${LOG_SQL:DEBUG}
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=${LOG_SQL_PARAMS:TRACE}
logging.level.com.xunim.notryaCatalogo=${APP_LOG_LEVEL:INFO}

# === PROFILES ===
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}